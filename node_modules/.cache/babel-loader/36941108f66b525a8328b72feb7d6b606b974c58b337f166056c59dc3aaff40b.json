{"ast":null,"code":"import _regeneratorRuntime from \"/Users/asagilmore/src/hbn_viewer/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/asagilmore/src/hbn_viewer/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Niivue } from '@niivue/niivue';\nexport default {\n  name: 'App',\n  props: {\n    volumeUrl: String\n  },\n  data: function data() {\n    return {\n      volumeList: [],\n      nv: new Niivue({\n        show3Dcrosshair: true,\n        backColor: [1, 1, 1, 1]\n      })\n    };\n  },\n  methods: {\n    initializeVolumeList: function initializeVolumeList() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.nv = new Niivue({\n                show3Dcrosshair: true,\n                backColor: [1, 1, 1, 1]\n              });\n              _this.volumeList = [{\n                url: _this.volumeUrl,\n                colorMap: \"gray\"\n              }];\n              _this.nv.setSliceType(_this.nv.sliceTypeRender); //all three directions of slices are displayed if removed.\n              _this.nv.attachTo('gl'); //attaches the entire image to the canvas.\n              _this.nv.setClipPlane([-0.1, 270, 0]); //displays the clip plane. displaced in the x? direction by 0.1. rotated 270 degrees about the z axis. The third number clearly has to do with angle and initial position in the z direction but my experimentation is not leading me to a clear result.\n              _this.nv.loadVolumes(_this.volumeList); //Displayes the brain.\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    changeVolume: function changeVolume() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.volumeList = [{\n                url: _this2.volumeUrl,\n                colorMap: \"gray\"\n              }];\n              _this2.nv.loadVolumes(_this2.volumeList);\n              _this2.nv.updateGLVolume();\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.initializeVolumeList();\n  }\n};","map":{"version":3,"names":["Niivue","name","props","volumeUrl","String","data","volumeList","nv","show3Dcrosshair","backColor","methods","initializeVolumeList","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","url","colorMap","setSliceType","sliceTypeRender","attachTo","setClipPlane","loadVolumes","stop","changeVolume","_this2","_callee2","_callee2$","_context2","updateGLVolume","mounted"],"sources":["/Users/asagilmore/src/hbn_viewer/src/components/Niivue.vue"],"sourcesContent":["<script>\nimport {Niivue} from '@niivue/niivue'\n\nexport default {\n  name: 'App',\n  props: {\n    volumeUrl: String,\n  },\n  data(){\n    return {\n      volumeList: [],\n      nv: new Niivue(({show3Dcrosshair: true, backColor: [1, 1, 1, 1]}))\n    }\n  },\n  methods:{\n    async initializeVolumeList(){\n        this.nv = new Niivue(({show3Dcrosshair: true, backColor: [1, 1, 1, 1]}))\n        this.volumeList = [\n            {\n                url: this.volumeUrl,\n                colorMap: \"gray\",\n            }\n        ]\n        this.nv.setSliceType(this.nv.sliceTypeRender)//all three directions of slices are displayed if removed.\n        this.nv.attachTo('gl')//attaches the entire image to the canvas.\n        this.nv.setClipPlane([-0.1, 270, 0])//displays the clip plane. displaced in the x? direction by 0.1. rotated 270 degrees about the z axis. The third number clearly has to do with angle and initial position in the z direction but my experimentation is not leading me to a clear result.\n        this.nv.loadVolumes(this.volumeList)//Displayes the brain.\n    },\n    async changeVolume(){\n        this.volumeList = [\n            {\n                url: this.volumeUrl,\n                colorMap: \"gray\",\n            }\n        ]\n        this.nv.loadVolumes(this.volumeList)\n        this.nv.updateGLVolume()\n    }\n  },\n  mounted() {\n    this.initializeVolumeList()\n  },\n}\n\n</script>\n\n<template>\n    <div>HBN VIEWER</div>\n    <canvas id=\"gl\" width=\"1258\" style=\"width: 100%; height: 100%;\" height=\"1200\" tabindex=\"0\">\n    </canvas>\n</template>"],"mappings":";;AACA,SAAQA,MAAM,QAAO,gBAAe;AAEpC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,KAAK,EAAE;IACLC,SAAS,EAAEC;EACb,CAAC;EACDC,IAAI,WAAAA,KAAA,EAAE;IACJ,OAAO;MACLC,UAAU,EAAE,EAAE;MACdC,EAAE,EAAE,IAAIP,MAAM,CAAE;QAACQ,eAAe,EAAE,IAAI;QAAEC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;MAAC,CAAE;IACnE;EACF,CAAC;EACDC,OAAO,EAAC;IACAC,oBAAoB,WAAAA,qBAAA,EAAE;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACxBT,KAAI,CAACL,EAAC,GAAI,IAAIP,MAAM,CAAE;gBAACQ,eAAe,EAAE,IAAI;gBAAEC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;cAAC,CAAE;cACvEG,KAAI,CAACN,UAAS,GAAI,CACd;gBACIgB,GAAG,EAAEV,KAAI,CAACT,SAAS;gBACnBoB,QAAQ,EAAE;cACd,EACJ;cACAX,KAAI,CAACL,EAAE,CAACiB,YAAY,CAACZ,KAAI,CAACL,EAAE,CAACkB,eAAe,CAAC;cAC7Cb,KAAI,CAACL,EAAE,CAACmB,QAAQ,CAAC,IAAI,CAAC;cACtBd,KAAI,CAACL,EAAE,CAACoB,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;cACpCf,KAAI,CAACL,EAAE,CAACqB,WAAW,CAAChB,KAAI,CAACN,UAAU,CAAC;YAAA;YAAA;cAAA,OAAAa,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IACxC,CAAC;IACKc,YAAY,WAAAA,aAAA,EAAE;MAAA,IAAAC,MAAA;MAAA,OAAAlB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAiB,SAAA;QAAA,OAAAlB,mBAAA,GAAAG,IAAA,UAAAgB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAb,IAAA;YAAA;cAChBU,MAAI,CAACzB,UAAS,GAAI,CACd;gBACIgB,GAAG,EAAES,MAAI,CAAC5B,SAAS;gBACnBoB,QAAQ,EAAE;cACd,EACJ;cACAQ,MAAI,CAACxB,EAAE,CAACqB,WAAW,CAACG,MAAI,CAACzB,UAAU;cACnCyB,MAAI,CAACxB,EAAE,CAAC4B,cAAc,CAAC;YAAA;YAAA;cAAA,OAAAD,SAAA,CAAAL,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAC3B;EACF,CAAC;EACDI,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACzB,oBAAoB,CAAC;EAC5B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}